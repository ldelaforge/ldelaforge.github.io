<html>
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
    </head>
    <body>
        <iframe
            id="XpressID-iframe"
            allow="camera; microphone; geolocation;"
            style="width:100%;height:100%;"
            src="https://xpressid-work.eu.veri-das.com/?access_token=4I5Kgb6AQMw2xuMgx4KXt5s1GmbNCu">
        </iframe>
        <script type="text/javascript">

            // adjustIframeDimensions
            (function() {
                adjustIframeDimensions();
                addEventListener('resize', adjustIframeDimensions);
            })();
            function adjustIframeDimensions() {
                var browser = navigator.userAgent.toLowerCase();
                if (browser.indexOf('safari')>-1 && browser.indexOf('mobile')>-1){ document.getElementsByTagName('html')[0].style.height = '100vh'; setTimeout(() => {
                    document.getElementsByTagName('html')[0].style.height = '100%'; }, 500);
                }
            }

            // XpressID events
            window.addEventListener("message", receiveMessage, false);
            function receiveMessage(event) {
                if(event.origin.includes("xpressid") && event.data.code == "ProcessCompleted") {
                    var dataFromXpressID = event.data;
                    console.log(dataFromXpressID);
                    alert ("The process has finished successfully.");
                }
                else if(event.origin.includes("xpressid")) {
                    // TODO BrowserNotSupported or ProcessError : https://docs.veridas.com/xpressid/cloud/v2.16/integration/#browsernotsupported
                    var dataFromXpressID = event.data;
                    console.log(dataFromXpressID);
                    alert ("Other event : " + event.data.code);
                }
            }

        </script>
    </body>
</html>






















<!--
{
  "type": "info",
  "code": "ProcessCompleted",
  "message": "The process has been successfully completed",
  "additionalData": {
    "validationId": "5c6adc30135841108621bdf34d7d7871",
    "ocr": {
      "nodes": [
        {
          "fieldName": "Name",
          "name": "PD_Name_Out",
          "text": "LAURENT SEBASTIEN ALAIN"
        },
        {
          "fieldName": "Last Name",
          "name": "PD_LastName_Out",
          "text": "DELAFORGE"
        },
        {
          "fieldName": "Identification Number",
          "name": "PD_IdentificationNumber_Out",
          "text": "160792103199"
        },
        {
          "fieldName": "Date of Birth",
          "name": "PD_BirthDate_Out",
          "text": "05 12 1976"
        },
        {
          "fieldName": "Gender",
          "name": "PD_Sex_Out",
          "text": "M"
        },
        {
          "fieldName": "Nationality",
          "name": "PD_Nationality_Out",
          "text": "FRA"
        },
        {
          "fieldName": "Address Street",
          "name": "PD_AddressStreet_Out",
          "text": "1064 AVENNE ROLEX SALEAURO"
        },
        {
          "fieldName": "Residence",
          "name": "PD_AddressMunicipality_Out",
          "text": "CHAVILLE (92)"
        },
        {
          "fieldName": "Place of Birth",
          "name": "PD_BirthPlaceMunicipality_Out",
          "text": "VITRY-SUR-SEINE"
        },
        {
          "fieldName": "Expiration Date",
          "name": "DD_ExpirationDate_Out",
          "text": "19 07 2031"
        },
        {
          "fieldName": "Date of Expedition",
          "name": "DD_ExpeditionDate_Out",
          "text": "20 07 2016"
        },
        {
          "fieldName": "Place of expedition",
          "name": "DD_ExpeditionPlace_Out",
          "text": "921"
        },
        {
          "fieldName": "Height",
          "name": "PD_Height_Out",
          "text": "1.73M"
        },
        {
          "fieldName": "Document Number",
          "name": "DD_DocumentNumber_Out",
          "text": "160792103199"
        },
        {
          "fieldName": "Authority",
          "name": "DD_Authority_Out",
          "text": "SOUSPRÃ‰FECTURE D ANTONY 1 92"
        },
        {
          "fieldName": "Issuing country",
          "name": "DD_IssuingCountry_Out",
          "text": "FRA"
        }
      ]
    },
    "selfieImage": "data:image/jpeg;base64,/9j/4QTnRXhpZgAATU0AKgAAAAgAAYdp...c81GWGOKKKB2G7hRRRQB//9k=",
    "globalScores": {}
  }
}
-->
